{"version":3,"sources":["meteor://ðŸ’»app/packages/flyandi_reactive-countdown/packages/flyandi_reactive-countdown.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sH","file":"/packages/flyandi_reactive-countdown.js","sourcesContent":["(function () {\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                       //\n// packages/flyandi:reactive-countdown/ReactiveCountdown.js                                              //\n//                                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                         //\n/**                                                                                                      // 1\n * flyandi:reactivecountdown                                                                             // 2\n * A simple reactive countdown timer library                                                             // 3\n * @version: v0.0.1                                                                                      // 4\n * @author: Andy Schwarz                                                                                 // 5\n *                                                                                                       // 6\n * Created by Andy Schwarz. Please report any bug at http://github.com/flyandi/meteor-reactive-countdown // 7\n *                                                                                                       // 8\n * Copyright (c) 2015 Andy Schwarz http://github.com/flyandi                                             // 9\n *                                                                                                       // 10\n * The MIT License (http://www.opensource.org/licenses/mit-license.php)                                  // 11\n *                                                                                                       // 12\n * Permission is hereby granted, free of charge, to any person                                           // 13\n * obtaining a copy of this software and associated documentation                                        // 14\n * files (the \"Software\"), to deal in the Software without                                               // 15\n * restriction, including without limitation the rights to use,                                          // 16\n * copy, modify, merge, publish, distribute, sublicense, and/or sell                                     // 17\n * copies of the Software, and to permit persons to whom the                                             // 18\n * Software is furnished to do so, subject to the following                                              // 19\n * conditions:                                                                                           // 20\n *                                                                                                       // 21\n * The above copyright notice and this permission notice shall be                                        // 22\n * included in all copies or substantial portions of the Software.                                       // 23\n *                                                                                                       // 24\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,                                       // 25\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES                                       // 26\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND                                              // 27\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT                                           // 28\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,                                          // 29\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING                                          // 30\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR                                         // 31\n * OTHER DEALINGS IN THE SOFTWARE.                                                                       // 32\n */                                                                                                      // 33\n                                                                                                         // 34\nReactiveCountdown = (function () {                                                                       // 35\n                                                                                                         // 36\n    // Constructor                                                                                       // 37\n    function ReactiveCountdown(countdown, settings) {                                                    // 38\n    \tthis._settings = settings || {};                                                                    // 39\n    \tthis._dependency = new Tracker.Dependency;                                                          // 40\n    \tthis._countdown = countdown;                                                                        // 41\n    \tthis._interval = this._settings.interval || 1000;                                                   // 42\n    \tthis._steps = this._settings.steps || 1;                                                            // 43\n    \tthis._id = false;                                                                                   // 44\n    };                                                                                                   // 45\n                                                                                                         // 46\n    ReactiveCountdown.prototype.start = function(completed, tick){                                       // 47\n                                                                                                         // 48\n    \tif(completed) this._settings.completed = completed;                                                 // 49\n    \tif(tick) this._settings.tick = tick;                                                                // 50\n                                                                                                         // 51\n    \tthis._current = this._countdown;                                                                    // 52\n                                                                                                         // 53\n    \tthis._id = Meteor.setInterval(function(){                                                           // 54\n                                                                                                         // 55\n    \t\tthis._current = this._current - this._steps;                                                       // 56\n                                                                                                         // 57\n    \t\tif(typeof(this._settings.tick) == \"function\") {                                                    // 58\n    \t\t\tthis._settings.tick();                                                                            // 59\n    \t\t}                                                                                                  // 60\n                                                                                                         // 61\n            this._dependency.changed();                                                                  // 62\n                                                                                                         // 63\n    \t\tif(this._current <= 0) {                                                                           // 64\n                                                                                                         // 65\n    \t\t\tthis.stop();                                                                                      // 66\n                                                                                                         // 67\n    \t\t\tif(typeof(this._settings.completed) == \"function\") {                                              // 68\n    \t\t\t\tthis._settings.completed();                                                                      // 69\n    \t\t\t}                                                                                                 // 70\n    \t\t}                                                                                                  // 71\n                                                                                                         // 72\n        }.bind(this), this._interval);                                                                   // 73\n    };                                                                                                   // 74\n                                                                                                         // 75\n    ReactiveCountdown.prototype.stop = function(){                                                       // 76\n        Meteor.clearInterval(this._id);                                                                  // 77\n        this._id = false;                                                                                // 78\n    };                                                                                                   // 79\n                                                                                                         // 80\n    ReactiveCountdown.prototype.add = function(unit) {                                                   // 81\n    \tthis._current = this._current + (unit || 0);                                                        // 82\n    };                                                                                                   // 83\n                                                                                                         // 84\n    ReactiveCountdown.prototype.remove = function(unit) {                                                // 85\n    \tthis._current = this._current - (unit || 0);                                                        // 86\n    };                                                                                                   // 87\n                                                                                                         // 88\n    ReactiveCountdown.prototype.get = function() {                                                       // 89\n    \t                                                                                                    // 90\n    \tthis._dependency.depend();                                                                          // 91\n                                                                                                         // 92\n    \treturn this._current;                                                                               // 93\n    };                                                                                                   // 94\n                                                                                                         // 95\n    return ReactiveCountdown;                                                                            // 96\n})();                                                                                                    // 97\n                                                                                                         // 98\n                                                                                                         // 99\n                                                                                                         // 100\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n"]}